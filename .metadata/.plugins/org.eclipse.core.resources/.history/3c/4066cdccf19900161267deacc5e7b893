package model;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import dao.DataAccess;

public class User 
{
	private String userID;
	private String firstName;
	private String lastName;
	private String passWord;
	private String accountType;
	private String email;
	
	public User(String userID, String firstName, String lastName,String email, String passWord, String accountType) {
		this.userID = userID;
		this.firstName = firstName;
		this.lastName = lastName;
		this.passWord = passWord;
		this.accountType = accountType;
		this.email = email;
	}
	
	
	//Methods 
	
	//This method update the user profile given the updated profile and an update query statement
	public void updateProfile(Profile updatedProfile,String UpdateSQLQuery)
	{
		try {
			DataAccess.updateProfile(updatedProfile, UpdateSQLQuery);
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	//This method update the user CV given the updated profile and an update query statement
	public void updateCV(CV updatedCV,String UpdateSQLQuery)
	{
		
			DataAccess.updateCV(updatedCV, UpdateSQLQuery);
		
	}
	
	
	//This method returns all the posts in a form of a resultset.
	public ResultSet viewPosts()
	{
		
		Connection connection;
		ResultSet resultset=null;
		try {
			connection = DriverManager.getConnection("jdbc:mysql://137.158.160.145:3306/ngwphu001", "ngwphu001", "eupheyei");
			Statement statement = connection.createStatement() ;
	        resultset =  statement.executeQuery("select * from Posts ORDER BY PostId desc") ;
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
        
        
        
        return resultset;
	}
	
	//This method returns all the notifications in a form of a resultset.
	public ResultSet viewNotifications()
	{
		Connection connection;
		ResultSet resultset=null;
		try {
			connection = DriverManager.getConnection("jdbc:mysql://137.158.160.145:3306/ngwphu001", "ngwphu001", "eupheyei");
			Statement statement = connection.createStatement() ;
	        resultset =  statement.executeQuery("select * from Notifications ORDER BY today desc") ;
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
        
        
        
        return resultset;
	}
    //Getters and setters
	
	public String getUserID() {
		return this.userID;
	}
	
	public String getEmail() {
		return this.email;
	}
	
	public void setUserID(String userID) {
		this.userID = userID;
	}

	public String getFirstName() {
		return firstName;
	}

	public void setFirstName(String firstName) {
		this.firstName = firstName;
	}

	public String getLastName() {
		return lastName;
	}

	public void setLastName(String lastName) {
	this.lastName = lastName;
	}

	public String getPassWord() {
		return passWord;
	}

	public void setPassWord(String passWord) {
		this.passWord = passWord;
	}

	public String getAccountType() {
		return accountType;
	}
	
	public void setEmail(String email) {
		this.email = email;
	}
	

	public void setAccountType(String accountType) {
		this.accountType = accountType;
	}
	
	
	
	

}
